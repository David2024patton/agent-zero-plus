<html>

<head>
    <title>Email Plugin</title>
</head>

<body>
    <div x-data>
        <template x-if="$store.settings">
            <div>
                <div class="section-title">Email Channel</div>
                <div class="section-description">
                    Connect Agent Zero to email via IMAP/SMTP. Polls for incoming emails and replies via SMTP.
                    <br><br>
                    üìñ <strong>Gmail Users:</strong> Use an
                    <a href="https://myaccount.google.com/apppasswords" target="_blank" rel="noopener">
                        App Password</a> instead of your account password. Enable IMAP in Gmail settings first.
                </div>

                <div class="field">
                    <div class="field-label">
                        <div class="field-title">Enable Email Plugin</div>
                        <div class="field-description">Start the email channel when Agent Zero launches.</div>
                    </div>
                    <div class="field-control">
                        <label class="toggle">
                            <input type="checkbox" x-model="$store.settings.settings.plugin_email_enabled" />
                            <span class="toggler"></span>
                        </label>
                    </div>
                </div>

                <div class="field">
                    <div class="field-label">
                        <div class="field-title">Email Address</div>
                        <div class="field-description">The email address this channel uses to send and receive messages.
                        </div>
                    </div>
                    <div class="field-control">
                        <input type="email" class="text-input" x-model="$store.settings.settings.plugin_email_address"
                            placeholder="agent_zero@example.com" />
                    </div>
                </div>

                <div class="section-subtitle"
                    style="margin-top: 1.5rem; margin-bottom: 0.5rem; font-weight: 600; font-size: 0.95rem; color: var(--color-text, #ccc);">
                    üì• Incoming Mail (IMAP)
                </div>

                <div class="field">
                    <div class="field-label">
                        <div class="field-title">IMAP Host</div>
                        <div class="field-description">IMAP server hostname (e.g. imap.gmail.com).</div>
                    </div>
                    <div class="field-control">
                        <input type="text" class="text-input" x-model="$store.settings.settings.plugin_email_imap_host"
                            placeholder="imap.gmail.com" />
                    </div>
                </div>

                <div class="field">
                    <div class="field-label">
                        <div class="field-title">IMAP Port</div>
                        <div class="field-description">IMAP server port (993 for TLS, 143 for plain).</div>
                    </div>
                    <div class="field-control">
                        <input type="text" class="text-input" x-model="$store.settings.settings.plugin_email_imap_port"
                            placeholder="993" />
                    </div>
                </div>

                <div class="field">
                    <div class="field-label">
                        <div class="field-title">IMAP Username</div>
                        <div class="field-description">Email address or username for IMAP login.</div>
                    </div>
                    <div class="field-control">
                        <input type="text" class="text-input" x-model="$store.settings.settings.plugin_email_imap_user"
                            placeholder="you@gmail.com" />
                    </div>
                </div>

                <div class="field">
                    <div class="field-label">
                        <div class="field-title">IMAP Password</div>
                        <div class="field-description">Password or app-specific password for IMAP login.</div>
                    </div>
                    <div class="field-control">
                        <input type="password" class="text-input"
                            x-model="$store.settings.settings.plugin_email_imap_password"
                            placeholder="Enter IMAP password" />
                    </div>
                </div>

                <div class="section-subtitle"
                    style="margin-top: 1.5rem; margin-bottom: 0.5rem; font-weight: 600; font-size: 0.95rem; color: var(--color-text, #ccc);">
                    üì§ Outgoing Mail (SMTP)
                </div>

                <div class="field">
                    <div class="field-label">
                        <div class="field-title">SMTP Host</div>
                        <div class="field-description">SMTP server hostname (e.g. smtp.gmail.com).</div>
                    </div>
                    <div class="field-control">
                        <input type="text" class="text-input" x-model="$store.settings.settings.plugin_email_smtp_host"
                            placeholder="smtp.gmail.com" />
                    </div>
                </div>

                <div class="field">
                    <div class="field-label">
                        <div class="field-title">SMTP Port</div>
                        <div class="field-description">SMTP server port (587 for STARTTLS, 465 for SSL).</div>
                    </div>
                    <div class="field-control">
                        <input type="text" class="text-input" x-model="$store.settings.settings.plugin_email_smtp_port"
                            placeholder="587" />
                    </div>
                </div>

                <div class="field">
                    <div class="field-label">
                        <div class="field-title">SMTP Username</div>
                        <div class="field-description">Email address or username for SMTP (often same as IMAP).</div>
                    </div>
                    <div class="field-control">
                        <input type="text" class="text-input" x-model="$store.settings.settings.plugin_email_smtp_user"
                            placeholder="you@gmail.com" />
                    </div>
                </div>

                <div class="field">
                    <div class="field-label">
                        <div class="field-title">SMTP Password</div>
                        <div class="field-description">Password or app-specific password for SMTP.</div>
                    </div>
                    <div class="field-control">
                        <input type="password" class="text-input"
                            x-model="$store.settings.settings.plugin_email_smtp_password"
                            placeholder="Enter SMTP password" />
                    </div>
                </div>

                <div class="section-subtitle"
                    style="margin-top: 1.5rem; margin-bottom: 0.5rem; font-weight: 600; font-size: 0.95rem; color: var(--color-text, #ccc);">
                    ‚öôÔ∏è Behavior
                </div>

                <div class="field">
                    <div class="field-label">
                        <div class="field-title">Use TLS</div>
                        <div class="field-description">Use TLS/SSL encryption for both IMAP and SMTP connections.</div>
                    </div>
                    <div class="field-control">
                        <label class="toggle">
                            <input type="checkbox" x-model="$store.settings.settings.plugin_email_use_tls" />
                            <span class="toggler"></span>
                        </label>
                    </div>
                </div>

                <div class="field">
                    <div class="field-label">
                        <div class="field-title">Poll Interval (seconds)</div>
                        <div class="field-description">How often to check for new emails.</div>
                    </div>
                    <div class="field-control">
                        <input type="text" class="text-input"
                            x-model="$store.settings.settings.plugin_email_poll_interval" placeholder="30" />
                    </div>
                </div>

                <div class="field">
                    <div class="field-label">
                        <div class="field-title">Allowed Senders</div>
                        <div class="field-description">Comma-separated email addresses. Only emails from these senders
                            will be processed. Leave empty for all.</div>
                    </div>
                    <div class="field-control">
                        <input type="text" class="text-input"
                            x-model="$store.settings.settings.plugin_email_allowed_senders"
                            placeholder="user@example.com, admin@example.com" />
                    </div>
                </div>
            </div>
        </template>
    </div>
</body>

</html>